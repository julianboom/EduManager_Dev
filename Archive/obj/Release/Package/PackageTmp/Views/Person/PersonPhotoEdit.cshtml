@using Model;
@{
    Layout = null;
    Unit item = ViewBag.unit;
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>PersonPhoto</title>
    @RenderPage("~/Views/Share/bootstrap.cshtml")


    <link href="~/Resource/plugins/bootstrap-treeview/css/bootstrap-treeview.css" rel="stylesheet" />
    <script src="~/Resource/plugins/bootstrap-treeview/js/bootstrap-treeview.js"></script>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            background-color:#f2f2f2;
        }

        .chakan {
            width: 1200px !important;
            margin: 0 auto !important;
        }

        .fixed-table-container {
            border: none !important;
        }

        #area span {
            color: #868686;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="layui-fluid layadmin-maillist-fluid" id="containertop">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md4 layui-col-sm6" v-if="List!==null" v-for="(item,index) in List" :key="index" @@click="edit(item.Name,item.ID)">
                <div class="layadmin-contact-box">
                    <div class="layui-col-md4 layui-col-sm6">
                        <a href="javascript:;">
                            <div class="layadmin-text-center">
                               <img :src="['../../UploadFiles/'+item.Photo]" style="border-radius:0px">
                            </div>
                        </a>
                    </div>

                    <div class="layui-col-md8 layadmin-padding-left20 layui-col-sm6">
                        <a href="javascript:;">
                            <h3 class="layadmin-title">
                                <strong>{{item.Name}} <span style="font-size:16px;font-weight:normal">{{item.WorkLevel}}</span></strong>
                            </h3>
                            <p class="layadmin-textimg">
                                <i class="layui-icon layui-icon-location"></i>
                                {{item.Address}}
                            </p>
                        </a>
                        <div class="layadmin-address">
                            <a href="javascript:;">
                                <strong>{{item.WorkUnit}}</strong>
                                <strong>{{item.WorkDuty}}</strong>

                                <br>
                               {{item.Education}}
                                <br>

                               {{item.School}}
                                <br>

                                {{item.Major}}

</a>
                        </div>
                    </div>
                </div>
            </div>
          
        </div>
    </div>

    <script>
        var vm = new Vue({
            el: "#containertop",
            data: {
                List: null,

            },
            methods: {
                 edit:function(Name,ID) {
                //$('#diejia').modal();
                     var title = Name;
                var src
        if (ID != "") {
                    src = '/Person/Detail3?ID=' + ID + '';
                }
        LayerModal(title, src);
                //$("#diejiayemian").attr("src", src);
            }


            }
        });
    getData();
    function getData(pageSize, pageNumber) {
        $.ajax({
            url: "/Unit/GetPersonListByUnitAll",
            dataType: "json",
            type: "get",
            data: {

                ID: "@item.ID",
        
            },
            success: function (data) {
                console.log(data);
                vm.List = data;
            }
        });
    }
  

   


    </script>
</body>
</html>

