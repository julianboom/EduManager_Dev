@using Model;
@{
    Layout = null;
    Person item = ViewBag.person;
}

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
            @RenderPage("~/Views/Share/bootstrap.cshtml")
    <link href="~/Resource/plugins/diejia/css/style.css" rel="stylesheet" />
    <script src="~/Resource/plugins/diejia/js/zturn.js"></script>
    <script src="~/Web/guid.js"></script>
    <script src="~/Resource/plugins/FileUploadQT/js/fileUpload.js"></script>
    <script src="~/Resource/plugins/FileUploadQT/js/iconfont.js"></script>
    <link href="~/Resource/plugins/FileUploadQT/css/fileUpload.css" rel="stylesheet" />
    <link href="~/Resource/plugins/FileUploadQT/css/iconfont.css" rel="stylesheet" />
    <link href="~/Resource/plugins/layui/css/layui.css" rel="stylesheet" />
    <script src="~/Resource/plugins/layui/layui.js"></script>
    <style>
        .yeshu {
            position: absolute;
            bottom: 23px;
        }
        .fileUploadContent .box {
             margin-top: 0px !important; 
        }
        .fileItem .progress {
            margin-bottom: 0px !important;
        }
        .fileItem{
            height:auto !important;
        }
        .myTitleLeft {
            font-size: 18px;
            width: 40px;
            position: fixed;
            top: 0px;
            display: block;
            padding: 10px;
            background-color: #08c8e4;
            left: 0px;
            color: #ffffff;
        }
        .myTitleRight {
            font-size: 18px;
            width: 40px;
            position: fixed;
            top: 0px;
            display: block;
            padding: 10px;
            background-color: #08c8e4;
            right: 0px;
            color: #ffffff;
        }
        ul .poster-item {
            padding-left: 50px;
            padding-right: 50px;
        }
        .col-xs-8{
            padding-right:0px!important;
        }

        .bootstrap-select button {
            height: 38px !important;
            border-radius: 0px !important;
        }
    </style>
</head>
<body style="background-color:rgba(0,0,0,0.5);">
    <div class="container">
        <div class="pictureSlider poster-main">
            <div class="poster-btn poster-prev-btn"></div>
            <form id="BasicInfo" method="post" class="form-inline">
                <ul id="zturn" class="poster-list" style="max-height:820px;overflow:auto">
                    <li class="poster-item  zturn-item box-shadow" id="dayin1" >
                        <p class="myTitleLeft">个人基本情况</p>
                        <p class="myTitleRight">个人基本情况</p>
                        <div class="row">
                            <div class="col-xs-12">
                                @*<h3 class="">个人基本情况</h3>*@
                            </div>
                            <input style="display:none" type="text" value="@item.Photo" id="Photo" name="Photo" />
                            <input type="hidden" id="WorkUnit" name="WorkUnit"/>
                            <input style="display:none" type="text" value="@item.ID" id="ID" name="ID" />
                            <input style="display:none" type="text" value="@item.HandleStaff" id="HandleStaff" name="HandleStaff" />
                            <input style="display:none" type="text" value="@item.HandleDept" id="HandleDept" name="HandleDept" />

                            <input style="display:none" type="text" value="@item.IsDeleted" id="IsDeleted" name="IsDeleted" />
                            @*<input type="hidden" value="@item.Score" id="Score" name="Score" />*@
                        </div>
                        <div class="row">
                            <div class="col-xs-6" id="tupianpangbian">
                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="Name">姓名：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <input class="form-control" type="text" id="Name" name="Name" value="@item.Name" required="required" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="IdCard">身份证号：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <input class="form-control" type="text" id="IdCard" required="required" name="IdCard" value="@item.IdCard" />
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="Gender">性别：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <select id="Gender" class="form-control selectpicker" required="required" name="Gender">
                                            <option value="@item.Gender">@item.Gender</option>
                                            <option value="男">男</option>
                                            <option value="女">女</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="Nation">民族：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <input class="form-control" type="text" id="Nation" required="required" name="Nation" value="@item.Nation" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="NativePlace">籍贯：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <input class="form-control" type="text" id="NativePlace" required="required" name="NativePlace" value="@item.NativePlace" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 margin-top-10">
                                        <label class="margin-5" for="BirthData">出生年月：</label>
                                    </div>
                                    <div class="col-xs-8 margin-top-10">
                                        <input class="laydate-icon form-control layer-date" required="required" name="BirthDate" value="@item.BirthDate">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-5 col-xs-offset-1">
                                <div id="photo" style=" overflow: auto; border: 1px solid #dcdcdc; border-radius: 10px; height: 220px; width: 158px; margin: auto;">
                                    <img class='img-responsive' style='width:auto;margin:0 auto;max-height:264px;;border-radius:4px' src='/UploadFiles/@item.Photo'>
                                </div>
                                <button type="button" class="layui-btn" id="test1" style="margin: auto;width: 113px;display: block;">
                                    <i class="layui-icon">&#xe67c;</i>上传图片
                                </button>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="BirthPlace">出生地：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="BirthPlace" required="required" name="BirthPlace" value="@item.BirthPlace" />
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="GrowPlace">成长地：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="GrowPlace" required="required" name="GrowPlace" value="@item.GrowPlace" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Marriage">婚姻状况：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Marriage" required="required" name="Marriage" value="@item.Marriage" />
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Health">是否有重大疾病：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Health" required="required" name="Health" value="@item.Health" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Gender">政治面貌：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <select id="PoliticsStatus" class="form-control selectpicker" required="required" name="PoliticsStatus">
                                    <option value="@item.PoliticsStatus">@item.PoliticsStatus</option>
                                    <option value="中共党员">中共党员</option>
                                    <option value="中共预备党员">中共预备党员</option>
                                    <option value="共青团员">共青团员</option>
                                    <option value="民主党派人士">民主党派人士</option>
                                    <option value="无党派民主人士">无党派民主人士</option>
                                    <option value="群众">群众</option>
                                </select>
                            </div>

                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="PartyDate">入党时间：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="PartyDate" required="required" name="PartyDate" value="@item.PartyDate" />
                            </div>
                        </div>

                        <div class="row">
                            @*<div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkCharge">分工情况：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="WorkCharge" required="required" name="WorkCharge" value="@item.WorkCharge" />
                            </div>*@
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Phone">联系方式：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Phone" required="required" name="Phone" value="@item.Phone" />
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkDuty">职务：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="WorkDuty" required="required" name="WorkDuty" value="@item.WorkDuty" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkUnit">工作单位：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                @*<input class="form-control" type="text" id="WorkUnit" required="required" name="WorkUnit" value="@item.WorkUnit" />*@
                                <select class="form-control select2-active"  id="UnitID" required="required" name="UnitID" ></select>

                            </div>

                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkDuty">排序：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="number" id="Sequence" required="required" name="Sequence" value="@item.Sequence" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkLevel">职级：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <select id="WorkLevel" class="form-control selectpicker" required="required" name="WorkLevel">
                                    <option value="@item.WorkLevel">@item.WorkLevel</option>
                                    <option value="正处">正处</option>
                                    <option value="副处">副处</option>
                                    <option value="正科">正科</option>
                                    <option value="副科">副科</option>
                                    <option value="其他">其他</option>
                                </select>
                            </div>

                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="DutyTime">任现职时间：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="laydate-icon form-control layer-date" required="required" name="DutyTime" value="@item.DutyTime">
    
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="LevelTime">任职级时间：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="laydate-icon form-control layer-date" required="required" name="LevelTime" value="@item.LevelTime">
    
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="WorkTime">参加工作时间：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="laydate-icon form-control layer-date" required="required" name="WorkTime" value="@item.WorkTime">
    
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Education">全日制学历：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Education" required="required" name="Education" value="@item.Education" />
                            </div>


                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="School">毕业院校及专业：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="School" required="required" name="School" value="@item.School" />
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Major">全日制专业：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Major" required="required" name="Major" value="@item.Major" />
                            </div>
                            @*<div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="HighestEducation">最高学历：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="HighestEducation" required="required" name="HighestEducation" value="@item.HighestEducation" />
                            </div>*@
                        </div>

                        <div class="row">

                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Address">家庭住址：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Address" required="required" name="Address" value="@item.Address" />
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Skill">技能或特长：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Skill" name="Skill" value="@item.Skill" />
                            </div>
                        </div>
                        @*<div class="row">
                            <div class="col-xs-2 margin-top-10">
                                <label class="margin-5" for="Democratic">民主党派：</label>
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <input class="form-control" type="text" id="Democratic" name="Democratic" value="@item.Democratic" />
                            </div>
                        </div>*@

                        @if (Session["HandleDept"].ToString() == "953e56fe-f0a6-4883-92f7-40ce6a746096")
                        {

                        }
                        else
                        {
                            <text>
                                <div class="row">
                                    <div class="col-xs-2 margin-top-10" style="margin-top:30px;">
                                        <h3 class="">主要履历</h3>
                                    </div>
                                    <div class="col-xs-10 margin-top-10" style="margin-top: 30px; padding-top: 15px;">
                                        <button type="button" class="layui-btn layui-btn-normal" data-toggle="modal" onclick="zhikongMaimResume()" data-target="#MaimResume" style="float:left;">添加</button>
                                    </div>
                                    <div class="col-xs-12 margin-top-10">
                                        <div style="width:100%;">
                                            <table id="ResumeList_table" class="table table-striped table-no-bordered table-hover"></table>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-3 margin-top-10" style="margin-top:30px;">
                                        <h3 class="">子女和配偶信息</h3>
                                    </div>
                                    <div class="col-xs-9 margin-top-10" style="margin-top: 30px; padding-top: 15px;">
                                        <button type="button" class="layui-btn layui-btn-normal" data-toggle="modal" onclick="zhikongRelation()" data-target="#MaimRelation" style="float:left;">添加</button>

                                    </div>
                                    <div class="col-xs-12 margin-top-10">
                                        <div style="width:100%;">
                                            <table id="Relation_table" class="table table-striped table-no-bordered table-hover"></table>
                                        </div>
                                    </div>
                                </div>
                            </text>
                        }

                        <div class="row">
                            <div class="col-xs-2 margin-top-10" style="margin-top:30px;">
                                <h3 class="">奖惩情况</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10" style="margin-top: 30px; padding-top: 15px;">
                                <button type="button" class="layui-btn layui-btn-normal" data-toggle="modal" onclick="zhikongRewards()" style="float:left;">添加获奖情况</button>
                            </div>
                            <div class="col-xs-2 margin-top-10" style="margin-top: 30px; padding-top: 15px;">
                                <button type="button" class="layui-btn layui-btn-normal" data-toggle="modal" onclick="zhikongPunishment()" style="float:left;">添加处分情况</button>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <table id="Rewards_Table"></table>
                                <table id="Punishment_Table"></table>
                            </div>
                        </div>
                        <div style="height:50px;"></div>
                    </li>
                    <li class="poster-item  zturn-item box-shadow">
                        <p class="myTitleLeft">廉政风险点</p>
                        <p class="myTitleRight">廉政风险点</p>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">廉政风险点排查情况</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload9" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary " id="btnUpload9" href="javascript:checkQueue9()">上传</a>
                                <a class="layui-btn layui-btn-primary " id="btnCancelUpload9" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel9()">取消</a>
                            </div>
                            <div class="col-xs-9 margin-top-10">
                                <div id="queue9"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="RiskPoint_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                    </li>
             
                    <li class="poster-item  zturn-item box-shadow">
                        <p class="myTitleLeft">民主生活会</p>
                        <p class="myTitleRight">民主生活会</p>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">民主生活会发言材料和批评材料</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload7" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary" id="btnUpload7" href="javascript:checkQueue7()">上传</a>
                                <a class="layui-btn layui-btn-primary" id="btnCancelUpload7" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel7()">取消</a>
                            </div>
                            <div class="col-xs-6 margin-top-10">
                                <div id="queue7"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="Democratic_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="poster-item  zturn-item box-shadow">
                        <p class="myTitleLeft">个人申报重大事项</p>
                        <p class="myTitleRight">个人申报重大事项</p>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">个人申报重大事项</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload6" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary " id="btnUpload6" href="javascript:checkQueue6()">上传</a>
                                <a class="layui-btn layui-btn-primary " id="btnCancelUpload6" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel6()">取消</a>
                            </div>
                            <div class="col-xs-6 margin-top-10">
                                <div id="queue6"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="Major_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                     
                    </li>
                    <li class="poster-item  zturn-item box-shadow">
                        <p class="myTitleLeft">审计述廉报告</p>
                        <p class="myTitleRight">审计述廉报告</p>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">审计报告</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload2" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary " id="btnUpload2" href="javascript:checkQueue2()">上传</a>
                                <a class="layui-btn layui-btn-primary " id="btnCancelUpload2" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel2()">取消</a>
                            </div>
                            <div class="col-xs-6 margin-top-10">
                                <div id="queue2"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="Audit_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">述廉报告</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload3" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary  " id="btnUpload3" href="javascript:checkQueue3()">上传</a>
                                <a class="layui-btn layui-btn-primary  " id="btnCancelUpload3" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel3()">取消</a>
                            </div>
                            <div class="col-xs-6 margin-top-10">
                                <div id="queue3"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="Report_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="poster-item  zturn-item box-shadow">
                        <p class="myTitleLeft">党风廉政意见回复</p>
                        <p class="myTitleRight">党风廉政意见回复</p>
                        <div class="row">
                            <div class="col-xs-12 margin-top-10" style="margin-top:30px;">
                                <h3 class="">党风廉政意见回复情况</h3>
                            </div>
                            <div class="col-xs-2 margin-top-10">
                                <input id="file_upload8" name="file_upload" type="file" multiple="true" />
                            </div>
                            <div class="col-xs-4 margin-top-10">
                                <a class="layui-btn layui-btn-primary" id="btnUpload8" href="javascript:checkQueue8()">上传</a>
                                <a class="layui-btn layui-btn-primary" id="btnCancelUpload8" data-options="iconCls:'icon-cancel'" href="javascript:checkCancel8()">取消</a>
                            </div>
                            <div class="col-xs-6 margin-top-10">
                                <div id="queue8"></div>
                            </div>
                            <div class="col-xs-12 margin-top-10">
                                <div style="width:100%;">
                                    <table id="IncorruptReply_Table" class="table table-striped table-no-bordered table-hover"></table>
                                </div>
                            </div>
                        </div>
                    </li>
                    </ul>
                    <div align="center" style="position: absolute; bottom: 15px; width: 60px; left: 48%;z-index:10">
                        <button type="button" class="layui-btn layui-btn-sm" onclick="PersonListSubmit()">保存</button>
                    </div>
                </form>
             </div>
        </div>

    @RenderPage("~/Views/Share/delConfirm.cshtml")
    @*//主要履历*@
    <div class="modal fade" id="MaimResume">
        <div class="modal-dialog" style="width:600px;">
            <div class="modal-content message_align">
                <div class="modal-header" style="padding:10px 15px">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">履历情况</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <input type="hidden" name="id" id="id" class="form-control" />
                        <div class="col-xs-3">
                            <label class="margin-5">起始年月：</label>
                        </div>
                        <div class="col-xs-9">
                            <input class="laydate-icon form-control layer-date" id="NewStartDate" name="StartDate" value="">
                        </div>
                        <div class="col-xs-3">
                            <label class="margin-5 margin-top-10">截止年月：</label>
                        </div>
                        <div class="col-xs-9 margin-top-10">
                            <input class="laydate-icon form-control layer-date" id="NewEndDate" name="EndDate" value="">

                        </div>
                        <div class="col-xs-3">
                            <label class="margin-5 margin-top-10">学习工作经历：</label>
                        </div>
                        <div class="col-xs-9 margin-top-10">
                            <input type="text" name="Experience" value="" id="NewExperience" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding:10px 15px">
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-sm " data-dismiss="modal">取消</button>
                    @if (Session["HandleDept"].ToString() == "953e56fe-f0a6-4883-92f7-40ce6a746096")
                    {

                    }
                    else
                    {
                        <text>
                            <button type="button" class="layui-btn layui-btn-sm " data-dismiss="modal" onclick="addMaimResume()">保存</button>
                        </text>
                    }
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    @*//子女和配偶信息*@
    <div class="modal fade" id="MaimRelation">
        <div class="modal-dialog" style="width:1000px;">
            <div class="modal-content message_align">
                <div class="modal-header" style="padding:10px 15px">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">子女和配偶信息</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <input type="hidden" name="id" id="Relationid" class="form-control" />
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">称呼：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Title" value="" id="RelationTitle" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">姓名：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Name" value="" id="RelationName" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">出生日期：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input class="laydate-icon form-control layer-date" id="RelationBirthDate" name="BirthDate" value="">
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">政治面貌：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="PoliticsStatus" value="" id="RelationPoliticsStatus" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">工作单位：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="WorkUnit" value="" id="RelationWorkUnit" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">职级：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="WorkLevel" value="" id="RelationWorkLevel" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding:10px 15px">
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-sm " data-dismiss="modal">取消</button>
                    @if (Session["HandleDept"].ToString() == "953e56fe-f0a6-4883-92f7-40ce6a746096")
                    {

                    }
                    else
                    {
                        <text>
                            <button type="button" class="layui-btn layui-btn-sm" data-dismiss="modal" onclick="addMaimRelation()">保存</button>
                        </text>
                    }
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div><!-- /.modal-dialog -->   
     @*//奖惩情况*@
    <div class="modal fade" id="MaimRewards">
        <div class="modal-dialog" style="width:1000px;">
            <div class="modal-content message_align">
                <div class="modal-header" style="padding:10px 15px">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">奖惩情况</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <input type="hidden" name="id" id="Rewardsid" class="form-control" />
                        <input type="hidden" name="Type" id="RewardsType" class="form-control" />
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">时间：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input class="laydate-icon form-control layer-date" id="RewardsGetTime" name="GetTime" value="">
                        </div>
                        <input type="hidden" name="id" id="Rewardsid" class="form-control" />
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">名称：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Title" value="" id="RewardsTitle" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">原因：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Reason" value="" id="RewardsReason" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">机关：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="GetUnit" value="" id="RewardsGetUnit" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">文号：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Doc" value="" id="RewardsDoc" class="form-control" />
                        </div>
                        <div class="col-xs-2">
                            <label class="margin-5 margin-top-10">备注：</label>
                        </div>
                        <div class="col-xs-4 margin-top-10">
                            <input type="text" name="Remark" value="" id="RewardsRemark" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding:10px 15px">
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-sm " data-dismiss="modal">取消</button>
                    @if (Session["HandleDept"].ToString() == "953e56fe-f0a6-4883-92f7-40ce6a746096")
                    {

                    }
                    else
                    {
                        <text>
                            <button type="button" class="layui-btn layui-btn-sm" data-dismiss="modal" onclick="addMaimRewards()">保存</button>
                        </text>
                    }
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div><!-- /.modal-dialog -->
</body>
</html>
<script>
 
    $.ajax({
        url: "/Admin/GetUnit_select",
        type: "post",
        success: function (data) {
            $("#UnitID").select2({
                data: data,
                placeholder: "请选择工作单位"
            });
              if ("@item.UnitID" != null)
    {

        var a = "@item.UnitID";
        console.log(a);
                $("#UnitID").val(a).trigger("change");

    }
    else
        $("#UnitID").val(null).trigger("change");
        }
    });


    var aa = new zturn({
        id: "zturn",
        opacity: 0.9,
        width: 600,
        Awidth: 580,
        scale: 0.9
    });
    //console.log(window.parent.windowHeight);
    var bili = (window.parent.windowHeight) / (900);
    $("body").css("zoom", bili);
    $("li").each(function (index) {
        index = index + 1;
        var yeshu = "<p class='yeshu'>" + index + "</p>"
        $(this).append(yeshu);
    });

    if ($('#ResumeList_table')) {
        var Resumeurl = '/Person/GetResumeList?ID=@item.ID';
        $('#ResumeList_table').bootstrapTable({
            method: 'post',
            url: Resumeurl,
            title: "主要履历",
            striped: true,
            clickToSelect: true,
            pageSize: 100,
            sidePagination: 'server',
            pageList: [10, 20, 50, 100, 200, 500],
            queryParamsType: 'limit',
            columns: [
                {
                    field: 'StartDate', title: '起始年月', editable: false, width: 100
                },
                { field: 'EndDate', title: '截至年月', editable: false, width: 100 },
                { field: 'Experience', title: '学习工作经历', editable: false, width: 200, },
                { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterResumeList },
            ],
        });
        function operateFormatterResumeList(value, row, index) {
            return [
                '<a  href="javascript:ResumeEdit(\'' + row.ID + '\')" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">编辑</a>',
                '<a  href="javascript:delcfm4(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
            ].join('');
        };
        function delcfm4(id) {
            var ResumeDeleteUrl = "/Person/ResumeDelete?ID=" + id;
            $('#id').val(id);//给会话中的隐藏属性URL赋值
            $('#idName').val("ID");
            $('#backMsg').val("ResumeList_table");
            $('#urlDel').val(ResumeDeleteUrl);
            $('#urlBack').val(Resumeurl);
            $('#delcfmModel').modal();
        }
        function refeshGridResume() {
            $('#ResumeList_table').bootstrapTable("refresh", { url: Resumeurl });
        }
        //子女和配偶
        var Relationurl = '/Person/GetRelationList?ID=@item.ID';
        $('#Relation_table').bootstrapTable({
            method: 'post',
            url: Relationurl,
            title: "子女和配偶信息",
            striped: true,
            clickToSelect: true,
            pageSize: 100,
            sidePagination: 'server',
            pageList: [10, 20, 50, 100, 200, 500],
            queryParamsType: 'limit',
            columns: [
                {
                    field: 'Title', title: '称呼', editable: false, width: 100
                },
                { field: 'Name', title: '姓名', editable: false, width: 100 },
                { field: 'BirthDate', title: '出生日期', editable: false, width: 100, },
                { field: 'PoliticsStatus', title: '政治面貌', editable: false, width: 100, },
                { field: 'WorkUnit', title: '工作单位', editable: false, width: 100, },
                { field: 'WorkLevel', title: '职级', editable: false, width: 100, },
                { field: 'opt', title: '操作', width:100, editable: false, formatter: operateFormatterRelationList },
            ],
        });
        function operateFormatterRelationList(value, row, index) {
            return [
                '<a  href="javascript:RelationEdit(\'' + row.ID + '\')" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">编辑</a>',
                '<a  href="javascript:delcfm5(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
            ].join('');
        };
        function delcfm5(id) {
            var RelationDeleteUrl = "/Person/RelationDelete?ID=" + id;
            $('#id').val(id);//给会话中的隐藏属性URL赋值
            $('#idName').val("ID");
            $('#backMsg').val("RelationList_table");
            $('#urlDel').val(RelationDeleteUrl);
            $('#urlBack').val(Relationurl);
            $('#delcfmModel').modal();
        }
        function refeshGridRelation() {
            $('#Relation_table').bootstrapTable("refresh", { url: Relationurl });
        }
    } else {

    }
    //重大事项核查结果
    function checkQueue() {
        if ($("#queue").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload').uploadifive('upload');
        }
    }
    function checkCancel() {
        if ($("#queue").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload').uploadifive('clearQueue');
            refeshGrid();
        }
    }
    function refeshGrid() {
        $('#Person1_table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Assess' });
    }
    function delcfm(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Person1_table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Assess");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Assess' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue").children().length - a == 0) {
                    checkCancel();
                    a = 0;
                }
            }
        });
    })
    $('#Person1_table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Assess',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterPerson1 },
        ],
    });
    function operateFormatterPerson1(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //审计报告上传
    function checkQueue2() {
        if ($("#queue2").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload2').uploadifive('upload');
        }
    }
    function checkCancel2() {
        if ($("#queue2").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload2').uploadifive('clearQueue');
            refeshGrid2();
        }
    }
    function refeshGrid2() {
        $('#Audit_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Audit' });
    }
    function delcfm2(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Audit_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Audit");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload2').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue2',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Audit' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue2").children().length - a == 0) {
                    checkCancel2();
                    a = 0;
                }
            }
        });
    })
    $('#Audit_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Audit',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterAudit },
        ],
    });
    function operateFormatterAudit(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm2(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //述廉报告
    function checkQueue3() {
        if ($("#queue3").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload3').uploadifive('upload');
        }
    }
    function checkCancel3() {
        if ($("#queue3").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload3').uploadifive('clearQueue');
            refeshGrid3();
        }
    }
    function refeshGrid3() {
        $('#Report_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Report' });
    }
    function delcfm3(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Report_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Report");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload3').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue3',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Report' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue3").children().length - a == 0) {
                    checkCancel3();
                    a = 0;
                }
            }
        });
    })
    $('#Report_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Report',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterReport },
        ],
    });
    function operateFormatterReport(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm3(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //财产情况
    function checkQueue5() {
        if ($("#queue5").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload5').uploadifive('upload');
        }
    }
    function checkCancel5() {
        if ($("#queue5").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload5').uploadifive('clearQueue');
            refeshGrid5();
        }
    }
    function refeshGrid5() {
        $('#Property_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Property' });
    }
    function delcfm5(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Property_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Property");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload5').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue5',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Property' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue5").children().length - a == 0) {
                    checkCancel5();
                    a = 0;
                }
            }
        });
    })
    $('#Property_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Property',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterProperty },
        ],
    });
    function operateFormatterProperty(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm5(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //个人申报重大事项
    function checkQueue6() {
        if ($("#queue6").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload6').uploadifive('upload');
        }
    }
    function checkCancel6() {
        if ($("#queue6").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload6').uploadifive('clearQueue');
            refeshGrid6();
        }
    }
    function refeshGrid6() {
        $('#Major_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Major' });
    }
    function delcfm6(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Major_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Major");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload6').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue6',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Major' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue6").children().length - a == 0) {
                    checkCancel6();
                    a = 0;
                }
            }
        });
    })
    $('#Major_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Major',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterMajor },
        ],
    });
    function operateFormatterMajor(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm6(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //个人申报重大事项
    function checkQueue7() {
        if ($("#queue7").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload7').uploadifive('upload');
        }
    }
    function checkCancel7() {
        if ($("#queue7").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload7').uploadifive('clearQueue');
            refeshGrid7();
        }
    }
    function refeshGrid7() {
        $('#Democratic_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=Democratic' });
    }
    function delcfm7(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Democratic_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=Democratic");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload7').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue7',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'Democratic' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue7").children().length - a == 0) {
                    checkCancel7();
                    a = 0;
                }
            }
        });
    })
    $('#Democratic_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=Democratic',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterDemocratic },
        ],
    });
    function operateFormatterDemocratic(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm7(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //党风廉政意见回复情况
    function checkQueue8() {
        if ($("#queue8").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload8').uploadifive('upload');
        }
    }
    function checkCancel8() {
        if ($("#queue8").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload8').uploadifive('clearQueue');
            refeshGrid8();
        }
    }
    function refeshGrid8() {
        $('#IncorruptReply_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=IncorruptReply' });
    }
    function delcfm8(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("IncorruptReply_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=IncorruptReply");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload8').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue8',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'IncorruptReply' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue8").children().length - a == 0) {
                    checkCancel8();
                    a = 0;
                }
            }
        });
    })
    $('#IncorruptReply_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=IncorruptReply',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterIncorruptReply },
        ],
    });
    function operateFormatterIncorruptReply(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm8(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }

    //廉政风险点排查情况
    function checkQueue9() {
        if ($("#queue9").children().length == 0) {
            layer.alert("请先点击浏览选择要上传的文件！");
        } else {
            $('#file_upload9').uploadifive('upload');
        }
    }
    function checkCancel9() {
        if ($("#queue9").children().length == 0) {
            layer.alert("没有待上传的文件！");
        } else {

            $('#file_upload9').uploadifive('clearQueue');
            refeshGrid9();
        }
    }
    function refeshGrid9() {
        $('#RiskPoint_Table').bootstrapTable("refresh", { url: '/File/GetList?ID=@item.ID&Type=RiskPoint' });
    }
    function delcfm9(id) {
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("RiskPoint_Table");
        $('#urlDel').val("/File/Delete");
        $('#urlBack').val("/File/GetList?ID=@item.ID&Type=RiskPoint");
        $('#delcfmModel').modal();
    }
    $(function () {

        var a = 0;
        $('#file_upload9').uploadifive({
            'auto': false,
            'fileSizeLimit': '102400KB',
            'buttonText': '浏  览',
            'multi': true,
            'queueID': 'queue9',
            'uploadScript': '/File/Upload',
            'formData': { 'ID': '@item.ID', 'type': 'RiskPoint' },
            'onUploadComplete': function (file, data) {
                a = a + 1;
                if ($("#queue9").children().length - a == 0) {
                    checkCancel9();
                    a = 0;
                }
            }
        });
    })
    $('#RiskPoint_Table').bootstrapTable({
        method: 'post',
        url: '/File/GetList?ID=@item.ID&Type=RiskPoint',
        striped: true,
        clickToSelect: true,
        pageSize: 10,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        sortName: 'ID',
        sortOrder: 'asc',
        columns: [
            {
                field: 'TimeStamp', title: '上传时间', width: 200, formatter: function (value, row, index) {
                    var str = "";
                    console.log(ChangeDateFormat(row.Timestamp));
                    str = "<span>" + ChangeDateFormat(row.Timestamp) + "</span>";
                    return str;
                }
            },
            { field: 'FileName', title: '文件名', width: 200, editable: false, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterRiskPoint },
        ],
    });
    function operateFormatterRiskPoint(value, row, index) {
        return [
            '<a  href="/File/Download?ID=' + row.ID + '" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">下载</a>',
            '<a  href="javascript:delcfm9(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    }
    //

    $('#addData').click(function () {
        // $('#PersonList_table').bootstrapTable('selectPage', 1); //Jump to the first page
        var data = { StartDate: '', EndDate: '', Experience: '' }; //define a new row data，certainly it's empty

        $('#PersonList_table').bootstrapTable('prepend', data); //the method of prepend must defined all fields，but append needn't
        //$('#dataTable').bootstrapTable('append',data);

        $("#dataTable tr:eq(1) td:eq(0)").trigger("dblclick");
        $("#dataTable input")[0].focus();
    });
    function PersonListSubmit() {
        $("#WorkUnit").val($("#UnitID option:selected").text());
        if ($("#WorkUnit").val() == "") {
            layer.msg("请选择工作单位");
            return;
        }
        $('#BasicInfo').form('submit', {
            url: "/Person/Save",
            onSubmit: function () {
            },
            success: function (data) {
                layer.alert("保存成功", function () {
                    window.parent.myclose();
                    window.parent.$('#PersonList_table').bootstrapTable('refresh', {
                        pageNumber: 1,
                    });
                });
            
            }
        });
    }
    function Canel() {
        window.location.href = "/Person/PersonList";
    }
    function zhikongMaimResume() {
        $("#NewStartDate").val("");
        $("#NewEndDate").val("");
        $("#NewExperience").val("");
        $("#id").val("");
    }
    function addMaimResume() {;
        $.ajax({
            type: "POST",
            url: '/Person/ResumeBatchSave',
            data: "StartDate=" + $("#NewStartDate").val() + "&EndDate=" + $("#NewEndDate").val() + "&Experience=" + $("#NewExperience").val() + "&PersonID=" + $("#ID").val() + "&ID=" + $("#id").val(),
            dataType: "json",
            success: function () {
                layer.alert("数据提交成功");
                refeshGridResume();
            }
        });
    }
    function ResumeEdit(id) {
        console.log("id=" + id);
        $('#MaimResume').modal();
        $.ajax({
            type: "POST",
            url: '/Person/ResumeEdit',
            data: "ID=" + id,
            dataType: "json",
            success: function (data) {
                $("#NewStartDate").val(data.StartDate);
                $("#NewEndDate").val(data.EndDate);
                $("#NewExperience").val(data.Experience);
                $("#id").val(data.ID);
            },
            error: function () {
                layer.alert("数据提交失败");
            }
        });
    }
    function zhikongRelation() {
        $("#RelationName").val("");
        $("#RelationTitle").val("");
        $("#RelationBirthDate").val("");
        $("#RelationPoliticsStatus").val("");
        $("#RelationWorkUnit").val("");
        $("#RelationWorkLevel").val("");
        $("#Relationid").val("");
    }
    function addMaimRelation() {;
        $.ajax({
            type: "POST",
            url: '/Person/RelationBatchSave',
            data: "Title=" + $("#RelationTitle").val() + "&Name=" + $("#RelationName").val() + "&BirthDate=" + $("#RelationBirthDate").val() + "&PoliticsStatus=" + $("#RelationPoliticsStatus").val() + "&WorkUnit=" + $("#RelationWorkUnit").val() + "&WorkLevel=" + $("#RelationWorkLevel").val() + "&ID=" + $("#Relationid").val() + "&PersonID=" + $("#ID").val(),
            dataType: "json",
            success: function () {
                layer.alert("数据提交成功");
                refeshGridRelation();
            }
        });
    }
    function RelationEdit(id) {
        console.log("id=" + id);
        $('#MaimRelation').modal();
        $.ajax({
            type: "POST",
            url: '/Person/RelationEdit',
            data: "ID=" + id,
            dataType: "json",
            success: function (data) {
                $("#RelationName").val(data.Name);
                $("#RelationTitle").val(data.Title);
                $("#RelationBirthDate").val(data.BirthDate);
                $("#RelationPoliticsStatus").val(data.PoliticsStatus);
                $("#RelationWorkUnit").val(data.WorkUnit);
                $("#RelationWorkLevel").val(data.WorkLevel);
                $("#Relationid").val(data.id);
            },
            error: function () {
                layer.alert("数据提交失败");
            }
        });
    }
    layui.use('upload', function () {
        var upload = layui.upload;

        //执行实例
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
          , url: '/Person/LogoUpLoad?ID=@item.ID' //上传接口
          , done: function (res) {
              //上传完毕回调
              console.log(res);
              var src = "<img class='img-responsive' style='width:auto;margin:0 auto;max-height:264px;;border-radius:4px' src='/UploadFiles/" + res.saveName + "'>";
              $("#photo").find("img").remove();
              $("#Photo").val(res.saveName);
              $("#photo").append(src);
          }
          , error: function () {
              //请求异常回调
              
          }
        });
    });
</script>
<script>
    //奖惩情况列表
    var Rewardsurl = '/Person/GetRewardsList?ID=@item.ID';
    var Punishmenturl = '/Person/GetPunishmentList?ID=@item.ID';
    $('#Rewards_Table').bootstrapTable({
        method: 'post',
        url: Rewardsurl,
        title: "奖惩情况",
        striped: true,
        clickToSelect: true,
        pageSize: 100,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        columns: [
            {
                field: 'GetTime', title: '时间', editable: false, width: 100
            },
            { field: 'Title', title: '获奖名称', editable: false, width: 100 },
            { field: 'Reason', title: '获奖原因', editable: false, width: 100, },
            { field: 'GetUnit', title: '奖励机关', editable: false, width: 100, },
            { field: 'Doc', title: '文号', editable: false, width: 100, },
            { field: 'Remark', title: '备注', editable: false, width: 100, },
            { field: 'opt', title: '操作', width: 100, editable: false, formatter: operateFormatterRewardsList },
        ],
    });
    function operateFormatterRewardsList(value, row, index) {
        return [
            '<a  href="javascript:RewardsEdit(\'' + row.ID + '\')" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">编辑</a>',
            '<a  href="javascript:delcfmRewards(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    };
    function delcfmRewards(id) {
        var RewardsDeleteUrl = "/Person/RewardsDelete?ID=" + id;
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Rewards_Table");
        $('#urlDel').val(RewardsDeleteUrl);
        $('#urlBack').val(Rewardsurl);
        $('#delcfmModel').modal();
    }
    function refeshGridRewards() {
        $('#Rewards_Table').bootstrapTable("refresh", { url: Rewardsurl });
        $('#Punishment_Table').bootstrapTable("refresh", { url: Punishmenturl });
    }
    function zhikongRewards() {
        $("#MaimRewards").modal("show");
        $("#RewardsGetTime").val("");
        $("#RewardsTitle").val("");
        $("#RewardsReason").val("");
        $("#RewardsGetUnit").val("");
        $("#RewardsDoc").val("");
        $("#RewardsRemark").val("");
        $("#Rewardsid").val("");
        $("#RewardsType").val("1");

    }
    function addMaimRewards() {;
        $.ajax({
            type: "POST",
            url: '/Person/RewardsBatchSave',
            data: "Title=" + $("#RewardsTitle").val() + "&GetTime=" + $("#RewardsGetTime").val() + "&Reason=" + $("#RewardsReason").val() + "&GetUnit=" + $("#RewardsGetUnit").val() + "&Doc=" + $("#RewardsDoc").val() + "&Remark=" + $("#RewardsRemark").val() + "&ID=" + $("#Rewardsid").val() + "&PersonID=" + $("#ID").val() + "&Type=" + $("#RewardsType").val(),
            dataType: "json",
            success: function () {
                layer.alert("数据提交成功");
                refeshGridRewards();
                refeshGridPunishment();
            }
        });
    }
    function RewardsEdit(id) {
        $("#RewardsType").val("1");
        console.log("id=" + id);
        $('#MaimRewards').modal();
        $.ajax({
            type: "POST",
            url: '/Person/RewardsEdit',
            data: "ID=" + id,
            dataType: "json",
            success: function (data) {
                $("#RewardsGetTime").val(data.GetTime);
                $("#RewardsTitle").val(data.Title);
                $("#RewardsReason").val(data.Reason);
                $("#RewardsGetUnit").val(data.GetUnit);
                $("#RewardsDoc").val(data.Doc);
                $("#RewardsRemark").val(data.Remark);
                $("#Rewardsid").val(data.ID);
                $("#RewardsType").val(data.Type);
            },
            error: function () {
                layer.alert("数据提交失败");
            }
        });
    }
    //处分情况列表
  
    $('#Punishment_Table').bootstrapTable({
        method: 'post',
        url: Punishmenturl,
        title: "处分情况",
        striped: true,
        clickToSelect: true,
        pageSize: 100,
        sidePagination: 'server',
        pageList: [10, 20, 50, 100, 200, 500],
        queryParamsType: 'limit',
        columns: [
            {
                field: 'GetTime', title: '时间', editable: false, width: 100
            },
            { field: 'Title', title: '处分名称', editable: false, width: 100 },
            { field: 'Reason', title: '处分原因', editable: false, width: 100, },
            { field: 'GetUnit', title: '处分机关', editable: false, width: 100, },
            { field: 'Doc', title: '文号', editable: false, width: 100, },
            { field: 'Remark', title: '备注', editable: false, width: 100, },
            { field: 'opt', title: '操作', width: 50, editable: false, formatter: operateFormatterPunishmentList },
        ],
    });
    function operateFormatterPunishmentList(value, row, index) {
        return [
            '<a  href="javascript:PunishmentEdit(\'' + row.ID + '\')" id="btn_detail" type="button" class="layui-btn layui-btn-xs" style="margin-right:20px;">编辑</a>',
            '<a  href="javascript:delcfmPunishment(\'' + row.ID + '\')"  type="button" class="layui-btn layui-btn-danger layui-btn-xs"></span>删除</a>',
        ].join('');
    };

    function delcfmPunishment(id) {
        var RewardsDeleteUrl = "/Person/RewardsDelete?ID=" + id;
        $('#id').val(id);//给会话中的隐藏属性URL赋值
        $('#idName').val("ID");
        $('#backMsg').val("Punishment_Table");
        $('#urlDel').val(RewardsDeleteUrl);
        $('#urlBack').val(Punishmenturl);
        $('#delcfmModel').modal();
    }
    function refeshGridPunishment() {
        $('#Punishment_table').bootstrapTable("refresh", { url: Punishmenturl });
    }
    function zhikongPunishment() {
        $("#MaimRewards").modal("show");
        $("#RewardsGetTime").val("");
        $("#RewardsTitle").val("");
        $("#RewardsReason").val("");
        $("#RewardsGetUnit").val("");
        $("#RewardsDoc").val("");
        $("#RewardsRemark").val("");
        $("#Rewardsid").val("");
        $("#RewardsType").val("2");

    }
    function addMaimPunishment() {;
        $.ajax({
            type: "POST",
            url: '/Person/RewardsBatchSave',
            data: "Title=" + $("#RewardsTitle").val() + "&GetTime=" + $("#RewardsGetTime").val() + "&Reason=" + $("#RewardsReason").val() + "&GetUnit=" + $("#RewardsGetUnit").val() + "&Doc=" + $("#RewardsDoc").val() + "&Remark=" + $("#RewardsRemark").val() + "&ID=" + $("#Rewardsid").val() + "&PersonID=" + $("#ID").val() + "&Type=" + $("#RewardsType").val(),
            dataType: "json",
            success: function () {
                layer.alert("数据提交成功");
                refeshGridPunishment();
            }
        });
    }
    function PunishmentEdit(id) {
        $("#RewardsType").val("2");
        console.log("id=" + id);
        $('#MaimRewards').modal();
        $.ajax({
            type: "POST",
            url: '/Person/RewardsEdit',
            data: "ID=" + id,
            dataType: "json",
            success: function (data) {
                $("#RewardsGetTime").val(data.GetTime);
                $("#RewardsTitle").val(data.Title);
                $("#RewardsReason").val(data.Reason);
                $("#RewardsGetUnit").val(data.GetUnit);
                $("#RewardsDoc").val(data.Doc);
                $("#RewardsRemark").val(data.Remark);
                $("#Rewardsid").val(data.ID);
                $("#RewardsType").val(data.Type);
            },
            error: function () {
                layer.alert("数据提交失败");
            }
        });
    }
    //转时间
    function ChangeDateFormat(date) {
        //ConvertJSONDateToJSDateObject(date)

        console.log(date);
        var mydate = new Date(parseInt(date.replace("/Date(", "").replace(")/", ""), 10));
        console.log(mydate);
        var year = mydate.getFullYear();

        var month = mydate.getMonth() + 1;

        var day = mydate.getDate();

        var hh = mydate.getHours();

        var mm = mydate.getMinutes();

        var ss = mydate.getSeconds();

        return year + "-" + month + "-" + day + " " + hh + ":" + mm + ":" + ss;
        //return oTime;
    }
    //补0
    function getzf(num) {
        if (parseInt(num) < 10) {
            num = '0' + num;
        }
        return num;
    }
</script>